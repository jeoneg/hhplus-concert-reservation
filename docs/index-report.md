# μΈλ±μ¤ μ μ© λ³΄κ³ μ„

## λ©μ°¨
1. μΈλ±μ¤
2. μμ£Ό μ΅°νν•λ” μΏΌλ¦¬ νμ•…
3. μΈλ±μ¤ μ μ© μ „ν›„ μ‹¤ν–‰μ‹κ°„ λΉ„κµ
4. λ³µν•© μΈλ±μ¤(μ‹λ‚λ¦¬μ¤ μ¶”κ°€)
5. κ²°λ΅ 

---

## 1. μΈλ±μ¤

### Clustered Indexμ™€ Non-Clustered Index

- Clustered Index: νΉμ • columnμ„ primary keyλ΅ μ§€μ •ν•λ©΄ μλ™μΌλ΅ ν΄λ¬μ¤ν„°ν• μΈλ±μ¤κ°€ μƒμ„±λκ³  ν•΄λ‹Ή columnμ„ κΈ°μ¤€μΌλ΅ μ •λ ¬μ΄ λ©λ‹λ‹¤. Table μμ²΄κ°€ μ •λ ¬λ ν•λ‚μ indexμΈ κ²ƒμ…λ‹λ‹¤. μμ–΄μ‚¬μ „μ²λΌ μ±…μ λ‚΄μ© μμ²΄κ°€ μ •λ ¬λ κ²ƒμΌλ΅ μƒκ°ν•  μ μμµλ‹λ‹¤.
- Non-Clustered Index: μΌλ°μ μΈ μ±…μ μ°Ύμ•„λ³΄κΈ°μ™€ κ°™μ΄ λ³„λ„μ κ³µκ°„μ— μΈλ±μ¤κ°€ μƒμ„±λ©λ‹λ‹¤. `create index`μ™€ κ°™μ΄ indexλ¥Ό μƒμ„±ν•κ±°λ‚ unique keyλ΅ μ§€μ •ν•λ©΄ λ³΄μ΅° μΈλ±μ¤κ°€ μƒμ„±λ©λ‹λ‹¤.

---

## 2. μμ£Ό μ΅°νν•λ” μΏΌλ¦¬ νμ•…

Non-Clustered Indexλ΅ μ„¤μ •ν•  μ μλ” μΏΌλ¦¬λ“¤μ„ μ°Ύμ•„λ³΄μ•μµλ‹λ‹¤.

-  μ½μ„νΈ μ•„μ΄λ””λ΅ μ½μ„νΈ μΌμ • λ©λ΅ μ΅°ν
-  μ‚¬μ©μ μ•„μ΄λ””λ΅ ν¬μΈνΈ μ •λ³΄ μ΅°ν

---

## 3. μΈλ±μ¤ μ μ© μ „ν›„ μ‹¤ν–‰μ‹κ°„ λΉ„κµ

ν…μ¤νΈλ” μ΄ **μ½μ„νΈ λ°μ΄ν„° 10,000κ±΄**κ³Ό **μ½μ„νΈ μΌμ • λ°μ΄ν„° 100,000κ±΄**μ„ κΈ°λ°μΌλ΅ μν–‰λμ—μµλ‹λ‹¤. κ° μ½μ„νΈλ” 10κ°μ μΌμ •μ„ κ°€μ§‘λ‹λ‹¤.

### 1) μ½μ„νΈ μ•„μ΄λ””λ΅ μ½μ„νΈ μΌμ • λ©λ΅ μ΅°ν

```java
List<ConcertSchedule> concertSchedules = concertScheduleRepository.findAllByConcertId(concertId);
```

### π” DBμ—μ„ ν™•μΈ

```sql
select * from concert_schedule where concert_id = 5555;
```

### μ μ© μ „

### Explain Plan
![EXPLAIN](images/index/get-schedules-disable-plan.png)

### Explain Analyse
![EXPLAIN](images/index/get-schedules-disable-analyse.png)

1. Full Scan
    - μμƒ μ²λ¦¬ ν–‰ μ(Rows): 99,822
    - μ‹¤μ  λ°ν™λ ν–‰ μ(Actual Rows): ν…μ΄λΈ”μ λ¨λ“  ν–‰(100,000κ°)μ„ μ½μ—μµλ‹λ‹¤.
    - μ‹¤μ  μ†μ” μ‹κ°„(Actual Time): μµμ† 2.19ms ~ μµλ€ 44ms
2. Filter
    - μμƒ μ²λ¦¬ ν–‰ μ(Rows): 9982
    - μ‹¤μ  λ°ν™λ ν–‰ μ(Actual Rows): 10κ°
    - μ‹¤μ  μ†μ” μ‹κ°„(Actual Time): μµμ† 29ms ~ μµλ€ 49.7ms

> - μμƒ λΉ„μ©(Cost)μ€ λ°μ΄ν„°λ² μ΄μ¤ μ‹¤ν–‰ κ³„νμ—μ„ κ° λ‹¨κ³„μ μƒλ€μ μΈ μ‘μ—… λΉ„μ©μ„ λ‚νƒ€λ‚΄λ” κ°’μΌλ΅, μΏΌλ¦¬κ°€ μ‹¤ν–‰λ  λ• ν•΄λ‹Ή μ‘μ—…μ΄ μ–Όλ§λ‚ "λΉ„μ©μ΄ λ§μ΄ λ“λ”μ§€"λ¥Ό μμΈ΅ν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤. μ΄ κ°’μ€ CPU, λ””μ¤ν¬ I/O, λ©”λ¨λ¦¬ μ‚¬μ©λ‰ λ“±μ„ κΈ°λ°μΌλ΅ κ³„μ‚°λλ©°, μΏΌλ¦¬ μµμ ν™”λ¥Ό μ„ν•΄ μ¤‘μ”ν• μ§€ν‘μ…λ‹λ‹¤.
> - Filter λ‹¨κ³„μ—μ„λ„ λ™μΌν• μ΄ λΉ„μ©(10,073.0)μ΄ ν‘μ‹λ©λ‹λ‹¤.
> -  μ΄λ” Filterκ°€ Full Scan μ΄ν›„μ— μν–‰λλ©°, Filter μμ²΄κ°€ μ¶”κ°€μ μΈ I/O μ‘μ—…μ„ μ”κµ¬ν•μ§€ μ•κΈ° λ•λ¬Έμ…λ‹λ‹¤.
> - λ”°λΌμ„ Filter λ‹¨κ³„μ λΉ„μ©μ€ Full Scan λ‹¨κ³„μ μ΄ λΉ„μ©κ³Ό λ™μΌν•κ² λ‚νƒ€λ‚©λ‹λ‹¤.

### μ μ© ν›„

### Explain Plan
![EXPLAIN](images/index/get-schedules-enable-plan.png)

### Explain Analyse
![EXPLAIN](images/index/get-schedules-enable-analyse.png)

### π“ μΈλ±μ¤ μ μ© μ „ν›„ λΉ„κµ

| ν•­λ©       | μΈλ±μ¤ λ―Έμ μ©(Full Table Scan) | μΈλ±μ¤ μ μ©(Unique Index Scan) |
| -------- | ------------------------ | ------------------------- |
| μ¤μΊ” λ°©μ‹    | Full Table Scan          | Unique Index Scan         |
| μ²λ¦¬ ν–‰ μ   | μ•½ 100,000ν–‰ μ „μ²΄ μ¤μΊ”         | μ΅°κ±΄μ— λ§λ” λ‹¨μΌ ν–‰(10κ°)          |
| μμƒ λΉ„μ©    | 10,086                   | 3.5                       |
| μ‹¤μ  λ°ν™ μ‹κ°„ | μ•½ 50ms                   | μ•½ 0.4ms                   |

### π” k6 λ¶€ν•ν…μ¤νΈλ΅ ν™•μΈ

π”¥ μ΄λ‹Ή 500κ°μ μ”μ²­μ„ 30μ΄κ°„ μ§„ν–‰ν•λ” λ¶€ν• ν…μ¤νΈλ¥Ό μ§„ν–‰ν•μ—¬ λΉ„κµν•μ€μµλ‹λ‹¤.

### μ μ© μ „
![K6](images/index/get-schedules-disable-k6.png)

### μ μ© ν›„
![K6](images/index/get-schedules-enable-k6.png)

### π“ ν•µμ‹¬ μ§€ν‘ λΉ„κµ

| μ§€ν‘            | μΈλ±μ¤ λ―Έμ μ©         | μΈλ±μ¤ μ μ©       | λ¶„μ„                  |
| ------------- | --------------- | ------------ | ------------------- |
| μ΄ μ”μ²­ μ        | 5,639 μ”μ²­        | 13,976 μ”μ²­    | μ²λ¦¬λ‰μ΄ μ•½ 148% μ¦κ°€      |
| ν‰κ·  μ”μ²­ μ‹κ°„      | 1.74μ΄ (1,740ms) | 82.07ms      | μ”μ²­ μ‹κ°„μ΄ μ•½ 95% λ‹¨μ¶•     |
| μµμ† μ”μ²­ μ‹κ°„      | 112ms           | 2.08ms       | μµμ† μ‘λ‹µ μ‹κ°„μ΄ μ•½ 98% λ‹¨μ¶•  |
| μµλ€ μ”μ²­ μ‹κ°„      | 4.91μ΄           | 1.23μ΄        | μµλ€ μ‘λ‹µ μ‹κ°„μ΄ μ•½ 75% λ‹¨μ¶•  |
| P90 μ”μ²­ μ‹κ°„     | 2.83μ΄           | 278.73ms     | P90 μ‘λ‹µ μ‹κ°„μ΄ μ•½ 90% λ‹¨μ¶• |
| P95 μ”μ²­ μ‹κ°„     | 3.10μ΄           | 420.07ms     | P95 μ‘λ‹µ μ‹κ°„μ΄ μ•½ 86% λ‹¨μ¶• |

### β… κ°μ„ λ μμ—­

- μ²λ¦¬λ‰μ΄ **μ•½ 148% μ¦κ°€**λμ—μµλ‹λ‹¤.
- ν‰κ·  μ”μ²­ μ‹κ°„μ΄ **μ•½ 95% λ‹¨μ¶•**λμ—μµλ‹λ‹¤.
- μµμ† μ‘λ‹µμ‹κ°„μ΄ **μ•½ 98% λ‹¨μ¶•**λμ—μµλ‹λ‹¤.
- μµλ€ μ‘λ‹µμ‹κ°„μ΄ **μ•½ 75% λ‹¨μ¶•**λμ—μµλ‹λ‹¤.

---

### 2) μ‚¬μ©μ μ•„μ΄λ””λ΅ ν¬μΈνΈ μ •λ³΄ μ΅°ν

ν…μ¤νΈλ” μ΄ **μ‚¬μ©μ-ν¬μΈνΈ λ°μ΄ν„° 100,000κ±΄**μ„ κΈ°λ°μΌλ΅ μν–‰λμ—μµλ‹λ‹¤. κ° μ‚¬μ©μμ™€ ν¬μΈνΈλ” 1:1 λ§¤ν•‘ κ΄€κ³„λ¥Ό κ°€μ§‘λ‹λ‹¤.

```java
Point point = pointRepository.findByUserId(userId)
```

### π” DBμ—μ„ ν™•μΈ

```sql
select * from point where user_id = 55555;
```

### μ μ© μ „

### Explain Plan
![EXPLAIN](images/index/get-point-disable-plan.png)

### Explain Analyse
![EXPLAIN](images/index/get-point-disable-analyse.png)

1. Full Scan
    - μμƒ μ²λ¦¬ ν–‰ μ(Rows): 99,847
    - μ‹¤μ  λ°ν™λ ν–‰ μ(Actual Rows): ν…μ΄λΈ”μ λ¨λ“  ν–‰(100,000κ°)μ„ μ½μ—μµλ‹λ‹¤.
    - μ‹¤μ  μ†μ” μ‹κ°„(Actual Time): μµμ† 1.26ms ~ μµλ€ 33.2ms
2. Filter
    - μμƒ μ²λ¦¬ ν–‰ μ(Rows): 9985
    - μ‹¤μ  λ°ν™λ ν–‰ μ(Actual Rows): 1κ°
    - μ‹¤μ  μ†μ” μ‹κ°„(Actual Time): μµμ† 37.4ms ~ μµλ€ 62.3ms

### μ μ© ν›„

### Explain Plan
![EXPLAIN](images/index/get-point-enable-plan.png)

### Explain Analyse
![EXPLAIN](images/index/get-point-enable-analyse.png)

### π“ μΈλ±μ¤ μ μ© μ „ν›„ λΉ„κµ

| ν•­λ©       | μΈλ±μ¤ λ―Έμ μ©(Full Table Scan) | μΈλ±μ¤ μ μ©(Unique Index Scan) |
| -------- | ------------------------ | ------------------------- |
| μ¤μΊ” λ°©μ‹    | Full Table Scan          | Unique Index Scan         |
| μ²λ¦¬ ν–‰ μ   | μ•½ 100,000ν–‰ μ „μ²΄ μ¤μΊ”         | μ΅°κ±΄μ— λ§λ” λ‹¨μΌ ν–‰(1κ°)           |
| μμƒ λΉ„μ©    | 10,073                   | 0.35                      |
| μ‹¤μ  λ°ν™ μ‹κ°„ | μ•½ 62ms                   | μ•½ 0.44ms                  |

### π” k6 λ¶€ν•ν…μ¤νΈλ΅ ν™•μΈ

π”¥ μ΄λ‹Ή 500κ°μ μ”μ²­μ„ 30μ΄κ°„ μ§„ν–‰ν•λ” λ¶€ν• ν…μ¤νΈλ¥Ό μ§„ν–‰ν•μ—¬ λΉ„κµν•μ€μµλ‹λ‹¤.

### μ μ© μ „
![K6](images/index/get-point-disable-k6.png)

### μ μ© ν›„
![K6](images/index/get-point-enable-k6.png)

### π“ ν•µμ‹¬ μ§€ν‘ λΉ„κµ

| μ§€ν‘        | μΈλ±μ¤ λ―Έμ μ©  | μΈλ±μ¤ μ μ©    | λ¶„μ„                  |
| --------- | -------- | --------- | ------------------- |
| μ΄ μ”μ²­ μ    | 8,036 μ”μ²­ | 14,668 μ”μ²­ | μ²λ¦¬λ‰μ΄ μ•½ 82.5% μ¦κ°€     |
| ν‰κ·  μ”μ²­ μ‹κ°„  | 889.64ms | 36.78ms   | μ”μ²­ μ‹κ°„μ΄ μ•½ 96% λ‹¨μ¶•     |
| μµμ† μ”μ²­ μ‹κ°„  | 60.64ms  | 1.26ms    | μµμ† μ‘λ‹µ μ‹κ°„μ΄ μ•½ 95% λ‹¨μ¶•  |
| μµλ€ μ”μ²­ μ‹κ°„  | 4.15μ΄    | 1μ΄        | μµλ€ μ‘λ‹µ μ‹κ°„μ΄ μ•½ 76% λ‹¨μ¶•  |
| P90 μ”μ²­ μ‹κ°„ | 1.38μ΄    | 61.49ms   | P90 μ‘λ‹µ μ‹κ°„μ΄ μ•½ 95% λ‹¨μ¶• |
| P95 μ”μ²­ μ‹κ°„ | 1.65μ΄    | 237.25ms  | P95 μ‘λ‹µ μ‹κ°„μ΄ μ•½ 86% λ‹¨μ¶• |

### β… κ°μ„ λ μμ—­

- μ²λ¦¬λ‰μ΄ **μ•½ 82.5% μ¦κ°€**λμ—μµλ‹λ‹¤.
- ν‰κ·  μ”μ²­ μ‹κ°„μ΄ **μ•½ 96% λ‹¨μ¶•**λμ—μµλ‹λ‹¤.
- μµμ† μ‘λ‹µμ‹κ°„μ΄ **μ•½ 95% λ‹¨μ¶•**λμ—μµλ‹λ‹¤.
- μµλ€ μ‘λ‹µμ‹κ°„μ΄ **μ•½ 76% λ‹¨μ¶•**λμ—μµλ‹λ‹¤.

---

## 4. λ³µν•© μΈλ±μ¤

λ³µν•© μΈλ±μ¤λ¥Ό ν¨μ¨μ μΌλ΅ ν…μ¤νΈν•  μ μλ„λ΅ μ‹λ‚λ¦¬μ¤λ¥Ό λ§λ“¤μ–΄μ„ ν…μ¤νΈλ¥Ό μ§„ν–‰ν•μ€μµλ‹λ‹¤.

- μ½μ„νΈ μμ•½ μ„λΉ„μ¤μ—μ„ νΉμ • κΈ°κ°„ λ™μ• μμ•½ μƒνƒκ°€ `CANCELLED`μΈ μμ•½ κ±΄μλ¥Ό μ½μ„νΈλ³„λ΅ μ§‘κ³„ν•΄μ•Ό ν•©λ‹λ‹¤.
- ν…μ¤νΈ λ°μ΄ν„°λ” κ³ μ²™λ”μ—μ„ 2025λ…„ 2μ›” λ™μ• λ§¤μΌ μ½μ„νΈλ¥Ό μ—°λ‹¤λ” κ°€μ •ν•μ— μƒμ„±λμ—μµλ‹λ‹¤.
    - κ³ μ²™λ” μμ© μΈμ›: 20,000λ…
    - 28μΌ λ™μ• μ΄ 560,000κ±΄μ μμ•½ λ°μ΄ν„° μƒμ„±
    - μμ•½ μΌμ‹(`reservation_at`)μ™€ μƒνƒ(`status(CANCELLED, CONFIRMED, PAYMENT_PENDING)`)λ” λλ¤μΌλ΅ μ„¤μ •

### ν…μ¤νΈ μΏΌλ¦¬

```sql
select concert_id, count(*) from reservation  
where status = 'CANCELLED'  
and reservation_at between '2025-02-11 00:00' and '2025-02-13 23:59:59'  
group by concert_id  
order by count(*) desc;
```

### 1) μΈλ±μ¤: `reservation_at, status`

```sql
create index idx_reservation on reservation (reservation_at, status);
```

### π§ μ‹¤ν–‰κ³„ν

| type  | ref | extra                                                  |
| ----- | --- | ------------------------------------------------------ |
| range | -   | Using index condition; Using temporary; Using filesort |

### π” λ¶„μ„

![INDEX](images/index/reservationAt-status.png)

- `reservation_at BETWEEN` μ΅°κ±΄μΌλ΅ μΈλ±μ¤ λ²”μ„ μ¤μΊ”μ΄ μν–‰λμ—μµλ‹λ‹¤.
- ν•μ§€λ§ `status`λ” μΈλ±μ¤μ—μ„ ν¨μ¨μ μΌλ΅ ν™μ©λμ§€ μ•μ•μµλ‹λ‹¤.
- `concert_id`λ΅ κ·Έλ£Ήν™”(`GROUP BY`)μ™€ `COUNT(*)` κ³„μ‚° ν›„ μ •λ ¬(`ORDER BY`, filesort)ν•λ©° μ„μ‹ ν…μ΄λΈ”(temporary)μ΄ μƒμ„±λμ—μµλ‹λ‹¤.

π”¥ k6λ΅ μ΄λ‹Ή 500κ°μ μ”μ²­μ„ 30μ΄κ°„ μ§„ν–‰ν•λ” λ¶€ν•ν…μ¤νΈλ¥Ό μ§„ν–‰ν–μµλ‹λ‹¤.

![K6](images/index/reservationAt-status-k6.png)

### 2) μΈλ±μ¤: `status, reservation_at`

### π§ μ‹¤ν–‰κ³„ν

| type  | ref | extra                                                  |
| ----- | --- | ------------------------------------------------------ |
| range | -   | Using index condition; Using temporary; Using filesort |

### π” λ¶„μ„

![INDEX](images/index/status-reservationAt.png)

`status = 'CANCELLED'` μ΅°κ±΄μ„ μ„ ν–‰ μ»¬λΌμΌλ΅ μ²λ¦¬ν•μ—¬ μν–‰ μ‹κ°„μ΄ μ΄μ „λ³΄λ‹¤ μ΅°κΈ λΉ¨λΌμ΅μµλ‹λ‹¤.

π”¥ k6λ΅ μ΄λ‹Ή 500κ°μ μ”μ²­μ„ 30μ΄κ°„ μ§„ν–‰ν•λ” λ¶€ν•ν…μ¤νΈλ¥Ό μ§„ν–‰ν–μµλ‹λ‹¤.

![K6](images/index/status-reservationAt-k6.png)

### 3) μΈλ±μ¤: `status, reservation_at, concert_id`

### π§ μ‹¤ν–‰κ³„ν

| type  | ref | extra                                                     |
| ----- | --- | --------------------------------------------------------- |
| range | -   | Using where; Using index; Using temporary; Using filesort |

### π” λ¶„μ„

![INDEX](images/index/status-reservationAt-concertId.png)

μΏΌλ¦¬μ λ¨λ“  μ΅°κ±΄μ΄ μΈλ±μ¤ μ»¬λΌμ— ν¬ν•¨λμ–΄ μλ” **μ»¤λ²„λ§ μΈλ±μ¤**λ΅ ν¨μ¨μ μΌλ΅ μ‘λ™ν•΄ λ€ν­ κ°μ„ λ μν–‰μ‹κ°„μ„ ν™•μΈν•  μ μμµλ‹λ‹¤.

π”¥ k6λ΅ μ΄λ‹Ή 500κ°μ μ”μ²­μ„ 30μ΄κ°„ μ§„ν–‰ν•λ” λ¶€ν•ν…μ¤νΈλ¥Ό μ§„ν–‰ν–μµλ‹λ‹¤.

![K6](images/index/status-reservationAt-concertId-k6.png)

### 4) μΈλ±μ¤: `status, concert_id`

### π§ μ‹¤ν–‰κ³„ν

| type | ref | extra                                                               |
| ---- | --- | ------------------------------------------------------------------- |
| ref  | -   | Using index condition; Using where; Using temporary; Using filesort |

### π” λ¶„μ„

![INDEX](images/index/status-concertId.png)

- `status = 'CANCELLED'` μ΅°κ±΄μ„ μ„ ν–‰ μ»¬λΌμΌλ΅ μ²λ¦¬ν•μ—¬ κΈ°λ³Έ ν•„ν„°λ§μ΄ μν–‰λμ—μµλ‹λ‹¤.
- `reservation_at BETWEEN` μ΅°κ±΄μ€ μΈλ±μ¤λ΅ μ²λ¦¬λμ§€ μ•κ³  μ¶”κ°€μ μΈ ν•„ν„°λ§ λ‹¨κ³„μ—μ„ μ²λ¦¬λμ—μµλ‹λ‹¤.

π”¥ k6λ΅ μ΄λ‹Ή 500κ°μ μ”μ²­μ„ 30μ΄κ°„ μ§„ν–‰ν•λ” λ¶€ν•ν…μ¤νΈλ¥Ό μ§„ν–‰ν–μµλ‹λ‹¤.

![K6](images/index/status-concertId-k6.png)

### 5) μΈλ±μ¤: `status, concert_id, reservation_at`

### π§ μ‹¤ν–‰κ³„ν

| type | ref | extra                                                               |
| ---- | --- | ------------------------------------------------------------------- |
| ref  | -   | Using index condition; Using where; Using temporary; Using filesort |

### π” λ¶„μ„

![INDEX](images/index/status-concertId-reservationAt.png)

λ¨λ“  μ΅°κ±΄(`status`, `concert_id`, `reservation_at`)μ΄ μΈλ±μ¤λ¥Ό ν†µν•΄ μ²λ¦¬λμ—μµλ‹λ‹¤.

π”¥ k6λ΅ μ΄λ‹Ή 500κ°μ μ”μ²­μ„ 30μ΄κ°„ μ§„ν–‰ν•λ” λ¶€ν•ν…μ¤νΈλ¥Ό μ§„ν–‰ν–μµλ‹λ‹¤.

![K6](images/index/status-concertId-reservationAt-k6.png)

### β… μ •λ¦¬

| μΈλ±μ¤                                | μ£Όμ” νΉμ§•                                                  |
| ---------------------------------- | ------------------------------------------------------ |
| reservation_at, status             | reservation_at λ²”μ„ μ΅°κ±΄μ€ μ²λ¦¬ν–μ§€λ§ statusλ” ν¨μ¨μ μΌλ΅ ν™μ©λμ§€ λ»ν–μµλ‹λ‹¤.  |
| status, reservation_at             | status μ΅°κ±΄μ„ μ„ ν–‰ μ²λ¦¬ν•μ—¬ ν¨μ¨μ„± ν–¥μƒμ‹μΌ°μµλ‹λ‹¤.                        |
| status, reservation_at, concert_id | μ»¤λ²„λ§ μΈλ±μ¤λ΅ λ¨λ“  μ΅°κ±΄μ„ μ²λ¦¬ν•μ€κ³  κ°€μ¥ ν¨μ¨μ μ…λ‹λ‹¤.                       |
| status, concert_id                 | κΈ°λ³Έ ν•„ν„°λ§μ€ ν¨μ¨μ μ΄λ‚ μ¶”κ°€ ν•„ν„°λ§(reservation_at)μ΄ ν•„μ”ν•©λ‹λ‹¤.           |
| status, concert_id, reservation_at | λ¨λ“  μ΅°κ±΄μ„ ν¨μ¨μ μΌλ΅ μ²λ¦¬ν–μ§€λ§ μΈλ±μ¤ μ»¬λΌμ μμ„ μ°¨μ΄λ΅ 3λ²μ§Έ μΈλ±μ¤λ³΄λ‹¤ ν¨μ¨μ΄ λ–¨μ–΄μ§‘λ‹λ‹¤. |

κ°€μ¥ ν¨μ¨μ μΈ μΈλ±μ¤λ” `status, reservation_at, concert_id`λ΅ μΏΌλ¦¬μ λ¨λ“  μ΅°κ±΄μ„ μ»¤λ²„ν•  μ μμ–΄ λ°μ΄ν„° μ ‘κ·Όμ΄ κ°€μ¥ λΉ λ¦…λ‹λ‹¤.

---

## π“ κ²°λ΅ 

μΈλ±μ¤λ¥Ό μ ν™μ©ν•λ‹¤λ©΄ **λΉ λ¥Έ λ°μ΄ν„° μ΅°ν μ†λ„**λ¥Ό λ³΄μ¥ν•λ©° **λ¶ν•„μ”ν• μ „μ²΄ ν…μ΄λΈ” μ¤μΊ”μ„ μ κ±°**ν•μ—¬ μ„λ²„ μμ› μ‚¬μ©λ‰μ„ μµμ ν™” ν•  μ μμµλ‹λ‹¤. νΉν ν„μ¬ μ„λΉ„μ¤μ λ°μ΄ν„° λ¶„ν¬ λ“±μ„ νμ•…ν•μ—¬ λ³µν•© μΈλ±μ¤λ¥Ό ν¨κ³Όμ μΌλ΅ μ„¤κ³„ν•λ‹¤λ©΄ λ‹¤μ¤‘ μ΅°κ±΄μ„ ν¨μ¨μ μΌλ΅ μ²λ¦¬ν•  μ μμ–΄ μΏΌλ¦¬ μ„±λ¥μ„ κ·Ήλ€ν™”ν•  μ μμµλ‹λ‹¤.

---

## μ°Έκ³ 
- https://medium.com/swlh/jetbrains-datagrip-explain-plan-ac406772c470
- https://frogcodepond.tistory.com/12
- https://jojoldu.tistory.com/476
- https://www.youtube.com/watch?v=ywYdEls88Sw
- https://www.youtube.com/watch?v=gcsu7ni3tBc&list=PLgXGHBqgT2TvpJ_p9L_yZKPifgdBOzdVH
